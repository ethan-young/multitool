<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.219">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="README_files/libs/clipboard/clipboard.min.js"></script>
<script src="README_files/libs/quarto-html/quarto.js"></script>
<script src="README_files/libs/quarto-html/popper.min.js"></script>
<script src="README_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="README_files/libs/quarto-html/anchor.min.js"></script>
<link href="README_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="README_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="README_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="README_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="README_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="README_files/libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="README_files/libs/viz-1.8.2/viz.js"></script>
<link href="README_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="README_files/libs/grViz-binding-1.0.9/grViz.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<!-- README.md is generated from README.Rmd. Please edit that file -->
<section id="multitool" class="level1">
<h1>multitool <a href="https://ethan-young.github.io/multitool/"><img src="man/figures/logo.jpeg" align="right" height="139"></a></h1>
<!-- badges: start -->
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" class="img-fluid" alt="Lifecycle: experimental"></a> <a href="https://CRAN.R-project.org/package=multitool"><img src="https://www.r-pkg.org/badges/version/multitool.png" class="img-fluid" alt="CRAN status"></a> <a href="https://github.com/ethan-young/multiverse_tools/actions/workflows/R-CMD-check.yaml"><img src="https://github.com/ethan-young/multiverse_tools/actions/workflows/R-CMD-check.yaml/badge.svg" class="img-fluid" alt="R-CMD-check"></a> <!-- badges: end --></p>
<p>The goal of <code>multitool</code> is to provide a set of tools for designing and running multiverse-style analyses. My goal with this package is to create an incremental workflow for slowly building up, keeping track of, and unpacking multiverse analyses and results.</p>
<p>I designed <code>multitool</code> to help users take a single use case (e.g., a single analysis pipeline) and expand it into a workflow to include alternative versions of the same analysis.</p>
<p>For example, imagine you would like to take some data, remove outliers, transform variables, run a linear model, do a post-hoc analysis, and plot the results. <code>multitool</code> can take theses tasks and transform them into a <em>specification blueprint</em>, which provides instructions for running your analysis pipeline.</p>
<p>The functions were designed to play nice with the <a href="https://www.tidyverse.org/"><code>tidyverse</code></a> and require using the base R pipe <code>|&gt;</code>. This makes it easy to quickly convert a single analysis into a multiverse analysis.</p>
<section id="basic-components" class="level2">
<h2 class="anchored" data-anchor-id="basic-components">Basic components</h2>
<p>My vision of a multiverse workflow contains three parts.</p>
<ol type="1">
<li><strong>Base data:</strong> original dataset waiting for further processing</li>
<li><strong>specification blueprint:</strong> aka specification grid. This a blueprint/map/recipe or whatever you want to call it. These are the instructions for what to do.</li>
<li><strong>Multiverse results:</strong> a table of results after feeding the base data to the blueprint.</li>
</ol>
<p>A defining feature of <code>multitool</code> is that it saves pipeline code. This allows the user to grab the <em>code that produces a result</em> and inspect it for accuracy, errors, or simply for peace of mind. By quickly grabbing code, the user can iterate between creating their blueprint and checking that the code works as intended.</p>
<p><code>multitool</code> allows the user to model data however they’d like. The user is responsible for loading the relevant modeling packages. Regardless of your model choice, <code>multitool</code> will capture your code and build a pipeline.</p>
<p>Finally, multiverse analyses were originally intended to look at how model parameters shift as a function of arbitrary analysis decisions. However, any computation might change depending on how you slice and dice the data. For this reason, I also built functions for computing descriptive, correlation, and reliability analysis alongside a particular modelling pipeline.</p>
</section>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation">Installation</h2>
<p>You can install the development version of <code>multitool</code> from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"ethan-young/multitool"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multitool)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-base-data" class="level2">
<h2 class="anchored" data-anchor-id="the-base-data">The base data</h2>
<p>Image we have some data with several predictor variables, moderators, covariates, and dependent measures. We want to know if our predictors (<code>ivs</code>) interact with our moderators (<code>mods</code>) to predict the outcome (<code>dvs</code>).</p>
<p>But we have three versions of our predictor that measuring the same construct in a different way.</p>
<p>In addition, because we collected messy data from the real world (not really but let’s pretend), we have some idea of exclusions we might need to make (e.g., <code>include1</code>, <code>include2</code>, <code>include3</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="ot">&lt;-</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">id  =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">500</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">iv1 =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">iv2 =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">iv3 =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mod =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">dv1 =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">dv2 =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">include1 =</span> <span class="fu">rbinom</span>(<span class="dv">500</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> .<span class="dv">1</span>),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">include2 =</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">size =</span> <span class="dv">500</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">include3 =</span> <span class="fu">rnorm</span>(<span class="dv">500</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-a-blueprint" class="level2">
<h2 class="anchored" data-anchor-id="create-a-blueprint">Create a blueprint</h2>
<p>Say we don’t know much about this new and exciting area of research.</p>
<p>We want to maximize our knowledge but we also want to be systematic. One approach would be to specify a reasonable analysis pipeline. Something that looks like the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out exclusions</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  the_data <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    include1 <span class="sc">==</span> <span class="dv">0</span>,           <span class="co"># --</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    include2 <span class="sc">!=</span> <span class="dv">3</span>,           <span class="co"># Exclusion criteria</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>   <span class="co"># --</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Model the data</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>my_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(dv1 <span class="sc">~</span> iv1 <span class="sc">*</span> mod, <span class="at">data =</span> filtered_data)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the results</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>my_results <span class="ot">&lt;-</span> broom<span class="sc">::</span><span class="fu">tidy</span>(my_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>But what if there are valid alternative alternatives to this pipeline?</p>
<p>For example, using <code>iv2</code> instead of <code>iv1</code> or only using two exclusion criteria instead of three? A sensible approach would be to copy the code above, paste it, and edit with different decisions.</p>
<p>This quickly become tedious. It adds many lines of code, many new objects, and is difficult to keep track of in a systematic way. Enter <code>multitool</code>.</p>
<p>With <code>multitool</code>, the above analysis pipeline can be transformed into a grid – a specification blueprint – for exploring all combinations of sensible data decisions in a pipeline. It was designed to leverage already written code (e.g., the <code>filter</code> statement above) to create a multiverse of data analysis pipelines.</p>
</section>
<section id="filtering-specifications" class="level2">
<h2 class="anchored" data-anchor-id="filtering-specifications">Filtering specifications</h2>
<p>Our example above has three exclusion criteria. If we don’t know which are important, for example, because they are based on arbitrary ‘rules of thumb’ (that may or may not have inherent wisdom) or we don’t know if including/excluding these cases is valid, we can generate all combinations:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_filters</span>(include1 <span class="sc">==</span> <span class="dv">0</span>, include2 <span class="sc">!=</span> <span class="dv">3</span>, <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   type    group    code                          </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;                         </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 filters include1 include1 == 0                 </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 filters include1 include1 %in% unique(include1)</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 filters include2 include2 != 3                 </span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 filters include2 include2 %in% unique(include2)</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 filters include3 scale(include3) &gt; -2.5        </span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 filters include3 include3 %in% unique(include3)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The output above is a simple <code>tibble</code> (i.e., <code>data.frame</code>) containing three columns.</p>
<p>Each row is a possible filter: the <code>type</code> column refers to the type of blueprint specification (see below for types other than filters), the <code>group</code> refers to the variable in the base data frame (in our case <code>the_data</code>) for which the filter applies, and the <code>code</code> column contains the code needed to execute the filter.</p>
<p>For filtering decisions (e.g., exclusion criteria), a <em>‘do nothing’</em> alternative is always generated.</p>
<p>For example, perhaps some observations belong to a subgroup, <code>include1 == 1</code>. We may or may not have good reason to exclude these cases (this depends on the specific situation).</p>
<p>But imagine that we don’t know if we should include them or not. When <code>include1 == 1</code> is added to <code>add_filters()</code>, the <em>‘do nothing’</em> alternative <code>include1 %in% unique(include1)</code> is automatically generated so you can compare including versus excluding cases based on a criterion.</p>
</section>
<section id="adding-alternative-analysis-variables" class="level2">
<h2 class="anchored" data-anchor-id="adding-alternative-analysis-variables">Adding alternative analysis variables</h2>
<p>Most multiverse-style analyses explore a range of exclusion criteria and their alternatives. However, sometimes alternative versions of a variable are also included.</p>
<p>In the social sciences, it is fairly common to have many measures of roughly the same construct (i.e., measured variable). For example, a happiness researcher might measure positive mood, life satisfaction, and/or a single item measuring happiness (e.g., ‘how happy do your feel?’).</p>
<p>If you want to explore the output of your pipeline with differing versions of a variable, you can use <code>add_variables()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   type      group code </span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 variables ivs   iv1  </span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 variables ivs   iv2  </span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 variables ivs   iv3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The output above generates the same <code>tibble</code> as <code>add_filters()</code>. Each row is a particular decision to use a particular variable in your pipeline.</p>
<p>In contrast to filter, however, you need to tell <code>add_variables()</code> what to call each set of variables with the <code>var_group</code> argument. This is how <code>multitool</code> knows that each variable name in the <code>code</code> column is a different alternative of a larger set.</p>
<p>Here, <code>var_group = "ivs"</code> indicates that <code>iv1, iv2, iv3</code> are all different versions of <code>ivs</code>. I used “ivs” as way of indicating to myself that these are alternative versions of my main independent variable.</p>
<p>You can add as many variable sets as you want. For example, we might also want to analyze our two versions of the outcome, <code>dv1</code> and <code>dv2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3) <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"dvs"</span>, dv1, dv2)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   type      group code </span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 variables ivs   iv1  </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 variables ivs   iv2  </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 variables ivs   iv3  </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 variables dvs   dv1  </span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 variables dvs   dv2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="building-up-the-blueprint" class="level2">
<h2 class="anchored" data-anchor-id="building-up-the-blueprint">Building up the blueprint</h2>
<p>You can harness the real power of <code>multitool</code> by piping specification statements. For example, perhaps we want to explore our exclusion criteria alternatives across different versions of our predictor and outcome variables. We can simply pipe new blueprint specifications into each other like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_filters</span>(include1 <span class="sc">==</span> <span class="dv">0</span>, include2 <span class="sc">!=</span> <span class="dv">3</span>, <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"dvs"</span>, dv1, dv2)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 11 × 3</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    type      group    code                          </span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;                         </span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 filters   include1 include1 == 0                 </span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 filters   include1 include1 %in% unique(include1)</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 filters   include2 include2 != 3                 </span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 filters   include2 include2 %in% unique(include2)</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 filters   include3 scale(include3) &gt; -2.5        </span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 filters   include3 include3 %in% unique(include3)</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 variables ivs      iv1                           </span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 variables ivs      iv2                           </span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 variables ivs      iv3                           </span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 variables dvs      dv1                           </span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 variables dvs      dv2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that we now have a specification blueprint with both exclusion alternatives and variable alternatives.</p>
</section>
<section id="adding-a-model" class="level2">
<h2 class="anchored" data-anchor-id="adding-a-model">Adding a model</h2>
<p>The whole point of building a specification blueprint is to eventually feed it to a model and examine the results.</p>
<p>You can add a model to your blueprint by using <code>add_model()</code>. I designed <code>add_model()</code> so the user can simply paste a model function. For example, our call to <code>lm()</code> can be simply pasted into <code>add_model()</code>. Make sure to give your model a label with the <code>model_desc</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_filters</span>(include1 <span class="sc">==</span> <span class="dv">0</span>, include2 <span class="sc">!=</span> <span class="dv">3</span>, <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"dvs"</span>, dv1, dv2) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(<span class="st">"linear model"</span>, <span class="fu">lm</span>(dv1 <span class="sc">~</span> iv1 <span class="sc">*</span> mod))</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    type      group        code                          </span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;                         </span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 filters   include1     include1 == 0                 </span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 filters   include1     include1 %in% unique(include1)</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 filters   include2     include2 != 3                 </span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 filters   include2     include2 %in% unique(include2)</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 filters   include3     scale(include3) &gt; -2.5        </span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 filters   include3     include3 %in% unique(include3)</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 variables ivs          iv1                           </span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 variables ivs          iv2                           </span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 variables ivs          iv3                           </span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 variables dvs          dv1                           </span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 variables dvs          dv2                           </span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 models    linear model lm(dv1 ~ iv1 * mod)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Above, the model is completely unquoted. It also has no <code>data</code> argument. This is intentional; <code>multitool</code> is tracking the base dataset along the way (so you don’t have to). Note that you can still quote the model formula, if that is more your style.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_filters</span>(include1 <span class="sc">==</span> <span class="dv">0</span>, include2 <span class="sc">!=</span> <span class="dv">3</span>, <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3) <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"dvs"</span>, dv1, dv2) <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(<span class="st">"lm(dv1 ~ iv1 * mod)"</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    type      group               code                            </span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;               &lt;chr&gt;                           </span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 filters   include1            "include1 == 0"                 </span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 filters   include1            "include1 %in% unique(include1)"</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 filters   include2            "include2 != 3"                 </span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 filters   include2            "include2 %in% unique(include2)"</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 filters   include3            "scale(include3) &gt; -2.5"        </span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 filters   include3            "include3 %in% unique(include3)"</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 variables ivs                 "iv1"                           </span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 variables ivs                 "iv2"                           </span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 variables ivs                 "iv3"                           </span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 variables dvs                 "dv1"                           </span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 variables dvs                 "dv2"                           </span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 models    lm(dv1 ~ iv1 * mod) ""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To make sure your <code>add_variables()</code> works properly, <code>add_model()</code> was designed to interpret <code>glue::glue()</code> syntax. For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>the_data <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_filters</span>(include1 <span class="sc">==</span> <span class="dv">0</span>, include2 <span class="sc">!=</span> <span class="dv">3</span>, <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3) <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"dvs"</span>, dv1, dv2) <span class="sc">|&gt;</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(<span class="st">"linear model"</span>,<span class="fu">lm</span>({dvs} <span class="sc">~</span> {ivs} <span class="sc">*</span> mod))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    type      group        code                          </span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;                         </span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 filters   include1     include1 == 0                 </span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 filters   include1     include1 %in% unique(include1)</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 filters   include2     include2 != 3                 </span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 filters   include2     include2 %in% unique(include2)</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 filters   include3     scale(include3) &gt; -2.5        </span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 filters   include3     include3 %in% unique(include3)</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 variables ivs          iv1                           </span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 variables ivs          iv2                           </span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 variables ivs          iv3                           </span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 variables dvs          dv1                           </span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 variables dvs          dv2                           </span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 models    linear model lm({dvs} ~ {ivs} * mod)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This allows <code>multitool</code> to insert the correct version of each variable specified in a <code>add_variables()</code> step. Make sure to use embrace the variable with the <code>var_group</code> argument from <code>add_variables()</code>, for example <code>add_model(lm({dvs} ~ {ivs} * mod))</code>. Here, <code>{dvs}</code> and <code>{ivs}</code> tells <code>multitool</code> to insert the current version of the <code>ivs</code> and <code>dvs</code> into the model.</p>
</section>
<section id="finalizing-the-specification-blueprint" class="level2">
<h2 class="anchored" data-anchor-id="finalizing-the-specification-blueprint">Finalizing the specification blueprint</h2>
<p>There are two steps in finalizing your bluerpint. The first is to visualize your pipeline with a graph. This is optional, but I think it is helpful.</p>
<p>You can automate making a chart with <code>blueprint()</code>. Feed your pipeline to <code>blueprint()</code> to see a chart of your multiverse pipeline plan:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>full_pipeline <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  the_data <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_filters</span>(include1 <span class="sc">==</span> <span class="dv">0</span>, include2 <span class="sc">!=</span> <span class="dv">3</span>, <span class="fu">scale</span>(include3) <span class="sc">&gt;</span> <span class="sc">-</span><span class="fl">2.5</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"ivs"</span>, iv1, iv2, iv3) <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variables</span>(<span class="at">var_group =</span> <span class="st">"dvs"</span>, dv1, dv2) <span class="sc">|&gt;</span> </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(<span class="st">"linear model"</span>, <span class="fu">lm</span>({dvs} <span class="sc">~</span> {ivs} <span class="sc">*</span> mod))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">blueprint</span>(full_pipeline)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c37ff18e97db16575a6a" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c37ff18e97db16575a6a">{"x":{"diagram":"digraph your_blueprint {\n    graph [\n           layout = dot\n           overlap = false\n           rankdir = TD\n           splines = line\n          ]\n\n    # Nodes ---- \n    node [shape = rect style = \"rounded\"] # Node settings\n    base_data [label = <<B>Base dataset<\/B> <BR/> the_data>]\n    variables [label = <<B>variables<\/B> <BR/> 2 sets>]\n    variables_details [label = <<B>dvs<\/B><BR ALIGN = \"LEFT\"/> dv1, dv2 <BR ALIGN = \"LEFT\"/> <BR ALIGN = \"LEFT\"/><B>ivs<\/B><BR ALIGN = \"LEFT\"/> iv1, iv2, iv3 <BR ALIGN = \"LEFT\"/>>]\n    filters [label = <<B>filters<\/B> <BR/> 3 sets>]\n    filters_details [label = <<B>include1<\/B><BR ALIGN = \"LEFT\"/> include1 equals 0 <BR ALIGN = \"LEFT\"/> include1 is any value <BR ALIGN = \"LEFT\"/> <BR ALIGN = \"LEFT\"/><B>include2<\/B><BR ALIGN = \"LEFT\"/> include2 does not equal 3 <BR ALIGN = \"LEFT\"/> include2 is any value <BR ALIGN = \"LEFT\"/> <BR ALIGN = \"LEFT\"/><B>include3<\/B><BR ALIGN = \"LEFT\"/> z-scored include3 is bigger than -2.5 <BR ALIGN = \"LEFT\"/> include3 is any value <BR ALIGN = \"LEFT\"/>>]\n    n_data [label = \"48 datasets\"]\n    model_1 [label = <<B>linear model model<\/B> <BR/> lm({dvs} ~ {ivs} * mod) <BR/>>]\n    models [label = \"48 models\"]\n\n    # Edges ---- \n    base_data -> filters\n    base_data -> variables\n    variables_details -> variables [tailport = \"e\" headport = \"w\" arrowhead = none]    filters_details -> filters [tailport = \"w\" headport = \"e\" arrowhead = none]\nfilters -> n_data [headport = \"n\" tailport = \"s\"]\nvariables -> n_data [headport = \"n\" tailport = \"s\"]\n    n_data -> model_1\n    model_1 -> models\n\n\n    # Force varialbes and filters to appear on the same level\n    {\n     rank = same; edge[style=invis]\n     variables_details -> variables ->     filters -> filters_details\n     rankdir = LR\n    }\n\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The final step in making your blueprint is expanding all your specifications into all possible combinations. You can do this by calling <code>expand_decisions()</code> at the end of your blueprint pipeline:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>expanded_pipeline <span class="ot">&lt;-</span> <span class="fu">expand_decisions</span>(full_pipeline)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>expanded_pipeline</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 4</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision variables        filters          models          </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;list&gt;           &lt;list&gt;          </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 2]&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The result is an expanded <code>tibble</code> with 1 row per unique decision and columns for each major blueprint category. In our example, we have alternative variables (predictors and outcomes), filters (three exclusion alternatives), and a model to run.</p>
<p>Note that we have 3 exclusions (each with two combinations), 3 versions of our predictor, and 2 versions of our outcome. This means our blueprint should have <code>2*2*2*3*2</code> rows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">*</span><span class="dv">2</span><span class="sc">*</span><span class="dv">2</span><span class="sc">*</span><span class="dv">3</span><span class="sc">*</span><span class="dv">2</span> <span class="sc">==</span> <span class="fu">nrow</span>(full_pipeline)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Our blueprint uses list columns to organize information. You can view each list column by using <code>tidyr::unnest(&lt;column name&gt;)</code>. For example, we can look at the filters:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>expanded_pipeline <span class="sc">|&gt;</span> <span class="fu">unnest</span>(filters)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 6</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision variables        include1      include2      include3       models  </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;          &lt;list&gt;  </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 scale(include… &lt;tibble&gt;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 scale(include… &lt;tibble&gt;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 scale(include… &lt;tibble&gt;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 scale(include… &lt;tibble&gt;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 scale(include… &lt;tibble&gt;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 scale(include… &lt;tibble&gt;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 include3 %in%… &lt;tibble&gt;</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 include3 %in%… &lt;tibble&gt;</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 include3 %in%… &lt;tibble&gt;</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble [1 × 2]&gt; include1 == 0 include2 != 3 include3 %in%… &lt;tibble&gt;</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Or we could look at the models:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>expanded_pipeline <span class="sc">|&gt;</span> <span class="fu">unnest</span>(models)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 5</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision variables        filters          model               model_meta  </span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;list&gt;           &lt;chr&gt;               &lt;chr&gt;       </span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv1 * mod) linear model</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv1 * mod) linear model</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv2 * mod) linear model</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv2 * mod) linear model</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv3 * mod) linear model</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv3 * mod) linear model</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv1 * mod) linear model</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv1 * mod) linear model</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv2 * mod) linear model</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble [1 × 2]&gt; &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv2 * mod) linear model</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that, with the <code>glue::glue()</code> syntax, different versions of our predictors and outcomes were inserted appropriately. You can check their correspondence by using <code>unnest()</code> on both the models and variable list columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>expanded_pipeline <span class="sc">|&gt;</span> <span class="fu">unnest</span>(<span class="fu">c</span>(variables, models))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 6</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision ivs   dvs   filters          model               model_meta  </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;list&gt;           &lt;chr&gt;               &lt;chr&gt;       </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        iv1   dv1   &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv1 * mod) linear model</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        iv1   dv2   &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv1 * mod) linear model</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        iv2   dv1   &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv2 * mod) linear model</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        iv2   dv2   &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv2 * mod) linear model</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        iv3   dv1   &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv3 * mod) linear model</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        iv3   dv2   &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv3 * mod) linear model</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        iv1   dv1   &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv1 * mod) linear model</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        iv1   dv2   &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv1 * mod) linear model</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        iv2   dv1   &lt;tibble [1 × 3]&gt; lm(dv1 ~ iv2 * mod) linear model</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       iv2   dv2   &lt;tibble [1 × 3]&gt; lm(dv2 ~ iv2 * mod) linear model</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="validate-your-blueprint" class="level2">
<h2 class="anchored" data-anchor-id="validate-your-blueprint">Validate your blueprint</h2>
<p>A <code>multitool</code> specification blueprint has a special feature: it captures your code and generates analysis pipelines.</p>
<p>A special set of functions with the <code>show_code_*</code> prefix allow you to see the code that will be executed for a single pipeline. For example, we can look at our filtering code for the first decision of our blueprint:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>expanded_pipeline <span class="sc">|&gt;</span> <span class="fu">show_code_filter</span>(<span class="at">decision_num =</span> <span class="dv">1</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; the_data |&gt; </span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   filter(include1 == 0, include2 != 3, scale(include3) &gt; -2.5)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These functions allow you to generate the relevant code along the analysis pipeline. For example, we can look at our model pipeline for decision 17 using <code>show_code_model(decision_num = 17)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>expanded_pipeline <span class="sc">|&gt;</span> <span class="fu">show_code_model</span>(<span class="at">decision_num =</span> <span class="dv">17</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; the_data |&gt; </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   filter(include1 == 0, include2 %in% unique(include2), scale(include3) &gt; -2.5) |&gt; </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   lm(dv1 ~ iv3 * mod, data = _)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Setting the <code>copy</code> argument to <code>TRUE</code> allows you to send the code straight to your clipboard. You can paste it into the source or console for testing/editing.</p>
<p>You can also run individual decisions to test that they work. See below for details about the results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">run_universe_model</span>(expanded_pipeline, <span class="at">decision_num =</span> <span class="dv">1</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   decision lm_fitted       </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;    &lt;list&gt;          </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1        &lt;tibble [1 × 5]&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="implement-your-blueprint" class="level2">
<h2 class="anchored" data-anchor-id="implement-your-blueprint">Implement your blueprint</h2>
<p>Once you have built your full specification blueprint and feel comfortable with how the pipeline is executed, you can implement a full multiverse-style analysis.</p>
<p>Simply use <code>run_multiverse(&lt;your pipeline object&gt;)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="ot">&lt;-</span> <span class="fu">run_multiverse</span>(expanded_pipeline)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ■■■■■■■■■■■■■■■                   46% | ETA:  3s</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>multiverse_results</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 3</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision specifications   lm_fitted       </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;list&gt;          </span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble [1 × 3]&gt; &lt;tibble [1 × 5]&gt;</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The result will be another <code>tibble</code> with various list columns.</p>
<p>It will always contain a list column named <code>specifications</code> containing all the information you generated in your blueprint. Next, there will be one list column per model fitted, labelled with a suffix like so <code>&lt;function name&gt;_fitted</code>.</p>
<p>Here, we ran a <code>lm()</code> so our results are contained in <code>lm_fitted</code>.</p>
</section>
<section id="unpacking-a-multiverse-analysis" class="level2">
<h2 class="anchored" data-anchor-id="unpacking-a-multiverse-analysis">Unpacking a multiverse analysis</h2>
<p>There are two main ways to unpack and examine <code>multitool</code> results. The first is by using <code>tidyr::unnest()</code> (similar to unpacking the specification blueprint earlier).</p>
<section id="unnest" class="level3">
<h3 class="anchored" data-anchor-id="unnest">Unnest</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> <span class="fu">unnest</span>(lm_fitted)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 7</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision specifications   lm_code         lm_tidy  lm_gla…¹ lm_war…² lm_mes…³</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;glue&gt;          &lt;list&gt;   &lt;list&gt;   &lt;list&gt;   &lt;list&gt;  </span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows, and abbreviated variable names ¹​lm_glance, ²​lm_warnings,</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   ³​lm_messages</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Inside a <code>&lt;model function&gt;_fitted</code> column (here <code>lm_fitted</code>), <code>multitool</code> gives us 4 columns.</p>
<p>The first column is always the full code pipeline that produced the results: <code>lm_code</code>. The next are results passed to <a href="https://broom.tidymodels.org/"><code>broom</code></a> (if <code>tidy</code> and/or <code>glance</code> methods exist). For <code>lm</code>, we have <code>lm_tidy</code> and <code>lm_glance</code>. Notice the naming convention: <code>&lt;model function&gt;_tidy</code> and <code>&lt;model function&gt;_glance</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> <span class="fu">unnest</span>(lm_fitted) <span class="sc">|&gt;</span> <span class="fu">unnest</span>(lm_tidy)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 192 × 11</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision specificati…¹ lm_code term  estim…² std.e…³ stati…⁴ p.value lm_gla…⁵</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;        &lt;glue&gt;  &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;list&gt;  </span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble&gt;      the_da… (Int…  0.0344  0.0554   0.621  0.535  &lt;tibble&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1        &lt;tibble&gt;      the_da… iv1   -0.0466  0.0586  -0.795  0.427  &lt;tibble&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1        &lt;tibble&gt;      the_da… mod   -0.0360  0.0544  -0.661  0.509  &lt;tibble&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1        &lt;tibble&gt;      the_da… iv1:… -0.0943  0.0597  -1.58   0.115  &lt;tibble&gt;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 2        &lt;tibble&gt;      the_da… (Int… -0.0498  0.0603  -0.825  0.410  &lt;tibble&gt;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 2        &lt;tibble&gt;      the_da… iv1   -0.133   0.0638  -2.09   0.0374 &lt;tibble&gt;</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 2        &lt;tibble&gt;      the_da… mod    0.0343  0.0592   0.579  0.563  &lt;tibble&gt;</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 2        &lt;tibble&gt;      the_da… iv1:…  0.151   0.0650   2.33   0.0207 &lt;tibble&gt;</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 3        &lt;tibble&gt;      the_da… (Int…  0.0229  0.0550   0.417  0.677  &lt;tibble&gt;</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 3        &lt;tibble&gt;      the_da… iv2    0.0141  0.0521   0.270  0.787  &lt;tibble&gt;</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 182 more rows, 2 more variables: lm_warnings &lt;list&gt;,</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   lm_messages &lt;list&gt;, and abbreviated variable names ¹​specifications,</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   ²​estimate, ³​std.error, ⁴​statistic, ⁵​lm_glance</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>lm_tidy</code> (or <code>&lt;model function&gt;_tidy</code>) column gives us the main results of <code>lm()</code> per decision. These include terms, estimates, standard errors, and p-values. <code>lm_glance</code> (or <code>&lt;model function&gt;_glance</code>) column gives us model fit statistics (among other things):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> <span class="fu">unnest</span>(lm_fitted) <span class="sc">|&gt;</span> <span class="fu">unnest</span>(lm_glance)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 18</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision specificat…¹ lm_code lm_tidy  r.squ…² adj.r.…³ sigma stati…⁴ p.value</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;       &lt;glue&gt;  &lt;list&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.0138   0.00379 0.946   1.38   0.249 </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.0313   0.0215  1.03    3.19   0.0242</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.00350 -0.00660 0.951   0.347  0.791 </span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.0145   0.00452 1.04    1.45   0.228 </span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.00560 -0.00448 0.950   0.555  0.645 </span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.00424 -0.00585 1.04    0.420  0.739 </span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.0138   0.00379 0.946   1.38   0.249 </span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.0313   0.0215  1.03    3.19   0.0242</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.00350 -0.00660 0.951   0.347  0.791 </span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble&gt;     the_da… &lt;tibble&gt; 0.0145   0.00452 1.04    1.45   0.228 </span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows, 9 more variables: df &lt;dbl&gt;, logLik &lt;dbl&gt;, AIC &lt;dbl&gt;,</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   BIC &lt;dbl&gt;, deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;,</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   lm_warnings &lt;list&gt;, lm_messages &lt;list&gt;, and abbreviated variable names</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   ¹​specifications, ²​r.squared, ³​adj.r.squared, ⁴​statistic</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="reveal" class="level3">
<h3 class="anchored" data-anchor-id="reveal">Reveal</h3>
<p>I wrote wrappers around the <code>unnest()</code> workflow. The main function is <code>reveal()</code>. Pass a multiverse results <code>tibble</code> to <code>reveal()</code> and tell it which columns to grab by indicating the column name in the <code>.what</code> argument:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> <span class="fu">reveal</span>(<span class="at">.what =</span> lm_fitted)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 48 × 7</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision specifications   lm_code         lm_tidy  lm_gla…¹ lm_war…² lm_mes…³</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;glue&gt;          &lt;list&gt;   &lt;list&gt;   &lt;list&gt;   &lt;list&gt;  </span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 2        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 3        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 4        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 5        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 6        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 7        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 8        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 9        &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 10       &lt;tibble [1 × 3]&gt; the_data |&gt; fi… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 38 more rows, and abbreviated variable names ¹​lm_glance, ²​lm_warnings,</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   ³​lm_messages</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you want to get straight to a tidied result you can specify a sub-list with the <code>.which</code> argument:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> <span class="fu">reveal</span>(<span class="at">.what =</span> lm_fitted, <span class="at">.which =</span> lm_tidy)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 192 × 7</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision specifications   term        estimate std.error statistic p.value</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;list&gt;           &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        &lt;tibble [1 × 3]&gt; (Intercept)   0.0344    0.0554     0.621  0.535 </span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1        &lt;tibble [1 × 3]&gt; iv1          -0.0466    0.0586    -0.795  0.427 </span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1        &lt;tibble [1 × 3]&gt; mod          -0.0360    0.0544    -0.661  0.509 </span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1        &lt;tibble [1 × 3]&gt; iv1:mod      -0.0943    0.0597    -1.58   0.115 </span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 2        &lt;tibble [1 × 3]&gt; (Intercept)  -0.0498    0.0603    -0.825  0.410 </span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 2        &lt;tibble [1 × 3]&gt; iv1          -0.133     0.0638    -2.09   0.0374</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 2        &lt;tibble [1 × 3]&gt; mod           0.0343    0.0592     0.579  0.563 </span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 2        &lt;tibble [1 × 3]&gt; iv1:mod       0.151     0.0650     2.33   0.0207</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 3        &lt;tibble [1 × 3]&gt; (Intercept)   0.0229    0.0550     0.417  0.677 </span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 3        &lt;tibble [1 × 3]&gt; iv2           0.0141    0.0521     0.270  0.787 </span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 182 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also choose to expand your specification blueprint with <code>.unpack_specs = TRUE</code> to see which decisions produced what result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reveal</span>(<span class="at">.what =</span> lm_fitted, <span class="at">.which =</span> lm_tidy, <span class="at">.unpack_specs =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 192 × 13</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    decision ivs   dvs   include1     inclu…¹ inclu…² model model…³ term  estim…⁴</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 1        iv1   dv1   include1 ==… includ… scale(… lm(d… linear… (Int…  0.0344</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 1        iv1   dv1   include1 ==… includ… scale(… lm(d… linear… iv1   -0.0466</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 1        iv1   dv1   include1 ==… includ… scale(… lm(d… linear… mod   -0.0360</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 1        iv1   dv1   include1 ==… includ… scale(… lm(d… linear… iv1:… -0.0943</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 2        iv1   dv2   include1 ==… includ… scale(… lm(d… linear… (Int… -0.0498</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 2        iv1   dv2   include1 ==… includ… scale(… lm(d… linear… iv1   -0.133 </span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 2        iv1   dv2   include1 ==… includ… scale(… lm(d… linear… mod    0.0343</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 2        iv1   dv2   include1 ==… includ… scale(… lm(d… linear… iv1:…  0.151 </span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 3        iv2   dv1   include1 ==… includ… scale(… lm(d… linear… (Int…  0.0229</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 3        iv2   dv1   include1 ==… includ… scale(… lm(d… linear… iv2    0.0141</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 182 more rows, 3 more variables: std.error &lt;dbl&gt;, statistic &lt;dbl&gt;,</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   p.value &lt;dbl&gt;, and abbreviated variable names ¹​include2, ²​include3,</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   ³​model_meta, ⁴​estimate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="condense" class="level3">
<h3 class="anchored" data-anchor-id="condense">Condense</h3>
<p>Unpacking specifications alongside specific results allows us to examine the effects of our pipeline decisions.</p>
<p>A powerful way to organize these results is to <code>condense</code> a specific results column, say our predictor regression coefficient, over the entire multiverse. <code>condense()</code> takes a result column and summarizes it with the <code>.how</code> argument, which takes a list in the form of <code>list(&lt;a name you pick&gt; = &lt;summary function&gt;)</code>.</p>
<p><code>.how</code> will create a column named like so <code>&lt;column being condsensed&gt;_&lt;summary function name provided&gt;"</code>. For this case, we have <code>estimate_mean</code> and <code>estimate_median</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reveal</span>(<span class="at">.what =</span> lm_fitted, <span class="at">.which =</span> lm_tidy, <span class="at">.unpack_specs =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(term, <span class="st">"iv"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">condense</span>(estimate, <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">median =</span> median))</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   estimate_mean estimate_median</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       -0.0190         -0.0293</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, we have filtered our multiverse results to look at our predictors <code>iv*</code> to see what the mean and median effect was (over all combinations of decisions) on our outcomes.</p>
<p>However, we had three versions of our predictor and two outcomes, so combining <code>dplyr::group_by()</code> with <code>condense()</code> might be more informative:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reveal</span>(<span class="at">.what =</span> lm_fitted, <span class="at">.which =</span> lm_tidy, <span class="at">.unpack_specs =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(term, <span class="st">"iv"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ivs, dvs) <span class="sc">|&gt;</span> </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">condense</span>(estimate, <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">median =</span> median))</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # Groups:   ivs [3]</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ivs   dvs   estimate_mean estimate_median</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 iv1   dv1        -0.0463         -0.0469 </span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 iv1   dv2         0.0172          0.0200 </span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 iv2   dv1        -0.00372        -0.00839</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 iv2   dv2        -0.0701         -0.0661 </span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 iv3   dv1         0.00703         0.00814</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 iv3   dv2        -0.0182         -0.0212</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we were interested in all the terms of the model, we can leverage <code>group_by</code> further:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>multiverse_results <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reveal</span>(<span class="at">.what =</span> lm_fitted, <span class="at">.which =</span> lm_tidy, <span class="at">.unpack_specs =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(term, ivs, dvs) <span class="sc">|&gt;</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">condense</span>(estimate, <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">median =</span> median))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 24 × 5</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # Groups:   term, ivs [12]</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    term        ivs   dvs   estimate_mean estimate_median</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 (Intercept) iv1   dv1          0.0250          0.0260</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 (Intercept) iv1   dv2         -0.0214         -0.0217</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 (Intercept) iv2   dv1          0.0188          0.0195</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 (Intercept) iv2   dv2         -0.0296         -0.0292</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 (Intercept) iv3   dv1          0.0206          0.0213</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 (Intercept) iv3   dv2         -0.0286         -0.0282</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 iv1         iv1   dv1         -0.0130         -0.0126</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 iv1         iv1   dv2         -0.0866         -0.0822</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 iv1:mod     iv1   dv1         -0.0796         -0.0797</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 iv1:mod     iv1   dv2          0.121           0.120 </span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 14 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="learning-more" class="level2">
<h2 class="anchored" data-anchor-id="learning-more">Learning more</h2>
<p>There are many other features of <code>multitool</code>, such as including pre-processing steps and/or post-processing to your blueprint. You can also conduct multiverse-style descriptive analyses or measurement analyses.</p>
</section>
<section id="other-related-packages" class="level2">
<h2 class="anchored" data-anchor-id="other-related-packages">Other related packages</h2>
<ul>
<li><a href="https://masurp.github.io/specr/index.html"><code>specr</code></a></li>
<li><a href="https://mucollective.github.io/multiverse/"><code>multiverse</code></a></li>
<li><a href="https://mverseanalysis.github.io/mverse/index.html"><code>mverse</code></a></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>